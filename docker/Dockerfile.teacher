FROM python:3.11-slim

ENV PYTHONDONTWRITEBYTECODE=1 PYTHONUNBUFFERED=1

RUN apt-get update && apt-get install -y curl && rm -rf /var/lib/apt/lists/*
RUN curl -LsSf https://astral.sh/uv/install.sh | sh
ENV PATH="/root/.local/bin:$PATH"

WORKDIR /app
COPY pyproject.toml README.md LICENSE /app/
COPY src /app/src
COPY data /app/data

RUN uv pip install --system -e .

EXPOSE 8004
CMD ["uv", "run", "litcoach-teacher"]


